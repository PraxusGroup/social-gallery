<!DOCTYPE html>
<html lang="en" ng-app="social-gallery" ng-controller="AppController as app">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1" />
    <title>Social Gallery App</title>

    <link rel="stylesheet" href="vendor/materialize/dist/css/materialize.css" >
    <link rel="stylesheet" href="css/style.css" >

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body ng-cloak>

    <nav ng-controller="NavController">
      <div class="nav-wrapper red darken-2">
        <a class="brand-logo" ng-href="#/home">Social Gallery</a>
        <a data-activates="mobile-demo" class="button-collapse">
          <ng-md-icon icon="menu" style="fill: white" size="36"></ng-md-icon>
        </a>
        <ul class="right hide-on-med-and-down" ng-hide="$root.currentUser">
          <li><a class="waves-effect waves-light" ng-click="openLoginModal()">Login</a></li>
          <li><a class="waves-effect waves-light" ng-click="openRegisterModal()">Register</a></li>
        </ul>
        <ul class="right hide-on-med-and-down" ng-show="$root.currentUser">
          <li><a class="waves-effect waves-light" ng-href="#/upload">Upload</a></li>
          <li><a class="waves-effect waves-light" ng-click="$root.logout()">Logout</a></li>
        </ul>
        <ul class="side-nav" id="mobile-demo">
          <li>
            <a class="waves-effect waves-light"
            ng-show="!$root.currentUser"
            ng-click="openLoginModal()">Login</a>
          </li>
          <li>
            <a class="waves-effect waves-light"
            ng-show="!$root.currentUser"
            ng-click="openRegisterModal()">Register</a>
          </li>
          <li>
            <a class="waves-effect waves-light"
            ng-show="$root.currentUser"
            ng-href="#/upload">Upload</a>
          </li>
          <li>
            <a class="waves-effect waves-light"
            ng-show="$root.currentUser"
            ng-click="$root.logout()">Logout</a>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Modal Structure -->
    <div ng-controller="RegisterController" id="RegisterModal" class="modal">
      <form ng-submit="submitRegister()">

        <div class="modal-content grey-text text-darken-3">

          <h4>Register</h4>

          <div class="row">

            <div class="col s12">

              <div class="row">
                <div class="input-field col s12">
                  <input id="fullname" type="text" ng-model="user.fullname" pattern=".{3,100}" class="validate" required>
                  <label for="fullname">Full Name</label>
                </div>
              </div>
              <div class="row">
                <div class="input-field col s12">
                  <input id="email" type="email" ng-model="user.email" class="validate" required>
                  <label for="email">Email</label>
                </div>
              </div>
              <div class="row">
                <div class="input-field col s12">
                  <input id="password" type="password" ng-model="user.password" pattern=".{3,100}" class="validate" required>
                  <label for="password">Password</label>
                </div>
              </div>
              <div class="row">
                <div class="input-field col s12">
                  <input id="confirm" type="password" ng-model="confirm" pattern=".{3,100}" class="validate" required>
                  <label for="confirm">Confirm Password</label>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <a class="modal-action modal-close waves-effect waves-green btn-flat">Cancel</a>
          <button type="submit" class="modal-action waves-effect waves-green btn-flat">Agree</button>
        </div>

      </form>
    </div>

    <div ng-controller="LoginController" id="LoginModal" class="modal">
      <form ng-submit="submitLogin()">

        <div class="modal-content grey-text text-darken-3">

          <h4>Login</h4>

          <div class="row">

            <div class="col s12">

              <div class="row">
                <div class="input-field col s12">
                  <input id="loginEmail" type="email" ng-model="login.email" class="validate" required>
                  <label for="loginEmail">Email</label>
                </div>
              </div>
              <div class="row">
                <div class="input-field col s12">
                  <input id="loginPassword" type="password" ng-model="login.password" required>
                  <label for="loginPassword">Password</label>
                </div>
              </div>

            </div>

          </div>

        </div>

        <div class="modal-footer">
          <a class="modal-action modal-close waves-effect waves-green btn-flat">Cancel</a>
          <button type="submit" class="modal-action waves-effect waves-green btn-flat">Login</button>
        </div>

      </form>
    </div>
    <!-- END Modal Structure -->

    <div class="progress top-loader" ng-if="$root.loading">
      <div class="indeterminate"></div>
    </div>

    <div ui-view></div>

    <script src="vendor/jquery/dist/jquery.min.js"></script>
    <script src="vendor/angular/angular.min.js"></script>
    <script src="vendor/angular-animate/angular-animate.min.js"></script>
    <script src="vendor/angular-material-icons/angular-material-icons.min.js"></script>
    <script src="vendor/angular-resource/angular-resource.min.js"></script>
    <script src="vendor/angular-ui-router/release/angular-ui-router.min.js"></script>
    <script src="vendor/materialize/dist/js/materialize.min.js"></script>
    <script src="vendor/ng-flow/dist/ng-flow-standalone.min.js"></script>
    <script src="vendor/svg-morpheus/compile/minified/svg-morpheus.js"></script>

    <script src="js/app.js"></script>
    <script src="js/services/lbServices.js"></script>
    <script src="js/controllers/nav.js"></script>
    <script src="js/controllers/login.js"></script>
    <script src="js/controllers/register.js"></script>
    <script src="components/home/home.js"></script>
    <script src="components/upload/upload.js"></script>

  </body>
</html>
